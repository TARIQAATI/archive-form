<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>نموذج إحصائيات الوثائق</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      background: #f9f9f9;
      direction: rtl;
    }
    form {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 900px;
      margin: auto;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input[type="text"],
    input[type="number"],
    textarea,
    select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .success {
      margin-top: 15px;
      color: green;
      font-weight: bold;
    }
    .section-title {
      margin-top: 30px;
      font-size: 1.3em;
      font-weight: bold;
      border-bottom: 2px solid #007bff;
      padding-bottom: 5px;
    }
  </style>
</head>
<body>
  <form id="archiveForm">

    <h2>نموذج إحصائيات الوثائق</h2>

    <div class="section-title">محتويات المستودعات من الأوعية</div>

    <!-- الوثائق -->
    <label>الوثائق</label>

    <label>الحالة الفنية للوثائق المحفوظة بالقسم / المستودع</label>
    <select name="documentsCondition" class="condition-select" data-related="documentsNotes" required>
      <option value="">-- اختر الحالة --</option>
      <option value="جيدة">جيدة</option>
      <option value="متوسطة">متوسطة</option>
      <option value="سيئة">سيئة</option>
    </select>

    <label id="label-documentsNotes" style="display:none;">ملاحظات عن حالة الوثائق (إن وجد)</label>
    <textarea name="documentsNotes" id="documentsNotes" style="display:none;" rows="3"></textarea>

    <!-- السجلات -->
    <label>السجلات</label>

    <label>الحالة الفنية لسجلات</label>
    <select name="recordsCondition" class="condition-select" data-related="recordsNotes" required>
      <option value="">-- اختر الحالة --</option>
      <option value="جيدة">جيدة</option>
      <option value="متوسطة">متوسطة</option>
      <option value="سيئة">سيئة</option>
    </select>

    <label id="label-recordsNotes" style="display:none;">ملاحظات عن حالة السجلات (إن وجد)</label>
    <textarea name="recordsNotes" id="recordsNotes" style="display:none;" rows="3"></textarea>

    <!-- الصكوك -->
    <label>الحالة الفنية لصكوك</label>
    <select name="titlesCondition" class="condition-select" data-related="titlesNotes" required>
      <option value="">-- اختر الحالة --</option>
      <option value="لا يوجد">لا يوجد</option>
      <option value="جيدة">جيدة</option>
      <option value="متوسطة">متوسطة</option>
      <option value="سيئة">سيئة</option>
    </select>

    <label id="label-titlesNotes" style="display:none;">ملاحظات عن حالة الصكوك (إن وجد)</label>
    <textarea name="titlesNotes" id="titlesNotes" style="display:none;" rows="3"></textarea>

    <!-- الخرائط -->
    <label>الخرائط</label>

    <label>الحالة الفنية للخرائط</label>
    <select name="mapsCondition" class="condition-select" data-related="mapsNotes" required>
      <option value="">-- اختر الحالة --</option>
      <option value="لا يوجد">لا يوجد</option>
      <option value="جيدة">جيدة</option>
      <option value="متوسطة">متوسطة</option>
      <option value="سيئة">سيئة</option>
    </select>

    <label id="label-mapsNotes" style="display:none;">ملاحظات عن حالة الخرائط (إن وجد)</label>
    <textarea name="mapsNotes" id="mapsNotes" style="display:none;" rows="3"></textarea>

    <!-- المخططات -->
    <label>المخططات</label>

    <label>الحالة الفنية للمخططات</label>
    <select name="plansCondition" class="condition-select" data-related="plansNotes" required>
      <option value="">-- اختر الحالة --</option>
      <option value="لا يوجد">لا يوجد</option>
      <option value="جيدة">جيدة</option>
      <option value="متوسطة">متوسطة</option>
      <option value="سيئة">سيئة</option>
    </select>

    <label id="label-plansNotes" style="display:none;">الملاحظات عن حالة المخططات (إن وجد)</label>
    <textarea name="plansNotes" id="plansNotes" style="display:none;" rows="3"></textarea>

    <!-- المصغرات الفلمية -->
    <label>المصغرات الفلمية</label>

    <label>الحالة الفنية للمصغرات الفلمية والأشرطة</label>
    <select name="mediaCondition" class="condition-select" data-related="mediaNotes" required>
      <option value="">-- اختر الحالة --</option>
      <option value="لا يوجد">لا يوجد</option>
      <option value="جيدة">جيدة</option>
      <option value="متوسطة">متوسطة</option>
      <option value="سيئة">سيئة</option>
    </select>

    <label id="label-mediaNotes" style="display:none;">الملاحظات عن حالة المصغرات الفلمية والأشرطة (إن وجد)</label>
    <textarea name="mediaNotes" id="mediaNotes" style="display:none;" rows="3"></textarea>

    <div class="section-title">برامج الأرشفة الإلكترونية</div>

    <label>هل يوجد برامج للأرشفة الالكترونية (مطلوب)</label>
    <select name="hasArchivingSystem" required>
      <option value="">-- اختر --</option>
      <option value="نعم">نعم</option>
      <option value="لا">لا</option>
    </select>

    <label>هل يتم حفظ الوثائق على وسائط الكترونية اخرى مثل: (فلاش / هارد ديسك) (مطلوب)</label>
    <select name="hasDigitalBackup" required>
      <option value="">-- اختر --</option>
      <option value="نعم">نعم</option>
      <option value="لا">لا</option>
    </select>

    <div class="section-title">الوثائق التي تحتاج إلى أرشفة إلكترونية</div>

    <label>عدد المراسلات (المعاملات) الورقية - الأصول (تقريباً) (مطلوب)</label>
    <input type="number" name="paperTransactions" min="0" required />

    <label>عدد الوثائق الورقية - صفحات (تقريباً) (مطلوب)</label>
    <input type="number" name="paperPages" min="0" required />

    <label>عدد الوثائق الورقية المؤرشفة (تقريباً) (مطلوب)</label>
    <input type="number" name="paperArchived" min="0" required />

    <label>عدد الوثائق الورقية التي تحتاج الى ارشفة (تقريباً) (مطلوب)</label>
    <input type="number" name="paperToBeArchived" min="0" required />

    <button type="submit">إرسال</button>

    <div class="success" id="successMessage"></div>
  </form>

  <script>
    // دالة لإظهار وإخفاء خانة الملاحظات بناءً على اختيار الحالة الفنية
    function toggleNotes(selectElement) {
      const relatedId = selectElement.getAttribute("data-related");
      if (!relatedId) return;

      const notesLabel = document.getElementById("label-" + relatedId);
      const notesTextarea = document.getElementById(relatedId);

      if (selectElement.value === "لا يوجد") {
        notesLabel.style.display = "none";
        notesTextarea.style.display = "none";
        notesTextarea.value = ""; // تنظيف الحقل
      } else if (selectElement.value) {
        notesLabel.style.display = "block";
        notesTextarea.style.display = "block";
      } else {
        notesLabel.style.display = "none";
        notesTextarea.style.display = "none";
        notesTextarea.value = "";
      }
    }

    document.querySelectorAll(".condition-select").forEach((select) => {
      // تفعيل العرض/الإخفاء عند تغير القيمة
      select.addEventListener("change", () => toggleNotes(select));

      // تفعيل العرض/الإخفاء عند تحميل الصفحة حسب القيمة الافتراضية
      toggleNotes(select);
    });

    // إرسال البيانات مع عرض رسالة نجاح أو خطأ
    document.getElementById("archiveForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const form = e.target;
      const data = {};
      for (let element of form.elements) {
        if (element.name) {
          data[element.name] = element.value;
        }
      }
      // هنا يمكن إضافة إرسال البيانات إلى السيرفر أو حفظها حسب الحاجة

      // عرض رسالة نجاح
      document.getElementById("successMessage").textContent = "تم إرسال النموذج بنجاح.";
      form.reset();

      // إعادة تهيئة إخفاء الملاحظات
      document.querySelectorAll(".condition-select").forEach((select) => toggleNotes(select));
    });
  </script>
</body>
</html>